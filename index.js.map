{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\nconst keyAPI = \"54675250-921b736f026c47058d05b606e\";\nconst urlAPI = \"https://pixabay.com/api/\";\n\n\nexport const  getImagesByQuery = query => {\n      return axios.get(urlAPI, {params:{\n        \"key\": keyAPI,\n        \"q\": `${query}`,\n        \"image_type\": \"photo\",\n        \"orientation\": \"horizontal\",\n        \"safesearch\": true\n    }}).then(response => response.data.hits);\n}\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport {loader} from \"../main.js\";\nimport { gallery } from \"../main.js\";\n\nimport {inputHandle} from \"../main.js\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n let lightbox = new SimpleLightbox(\".gallery a\");\n\nexport function createGallery(images){\n return images.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => \n `<li class=\"gallery-list\">\n <a class=\"gallery-link\" href=\"${largeImageURL}\">\n <img class=\"gallery-img\" src=\"${webformatURL}\" alt =\"${tags}\" width=\"360\" height=\"200\"/>\n </a>\n <ul class=\"info\">\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Likes</h3>\n <p class=\"gallery-item-text\">${likes}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Views</h3>\n <p class=\"gallery-item-text\">${views}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Comments</h3>\n <p class=\"gallery-item-text\">${comments}</p>\n </li>\n <li class=\"info-list\">\n <h3 class=\"gallery-item-title\">Downloads</h3>\n <p class=\"gallery-item-text\">${downloads}</p>\n </li>\n </ul>\n </li>`).join(\"\");\n}\n   \nexport function markup(arr){\n    gallery.innerHTML = createGallery(arr);\n    lightbox.refresh();\n}\n\nexport function clearGallery(){\n   gallery.innerHTML = \"\";\n}\n\nexport function showLoader(){\n    loader.classList.remove(\"hide\");\n}\n\nexport function hideLoader(){\n loader.classList.add(\"hide\");\n}\n \nexport function showError(){\n     iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                messageColor: \"#fafafb\",\n                backgroundColor: \"#ef4040\",\n                messageSize: \"16px\",\n                position: \"topRight\",\n                icon: 'material-icons',\n            })\n }","\nimport {getImagesByQuery} from \"./js/pixabay-api.js\";\nimport * as render from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\"input\");\nexport const gallery = document.querySelector(\".gallery\");\nexport const loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", handleSubmit);\ngallery.addEventListener(\"click\", handleClick);\n\n\nexport let inputHandle = \"\";\n\n function handleSubmit(event){\n    event.preventDefault();\n    render.showLoader(); \n    render.clearGallery();\n   inputHandle = input.value.trim();\n    if(inputHandle === \"\"){\n        render.hideLoader()\n        return;\n    }\n    processingResponse()\n}\n\nfunction processingResponse(){\n    getImagesByQuery(inputHandle)\n    .then(response => {\n        if(response.length === 0){\n           render.showError();\n        } else{\n        render.markup(response);\n    }\n})\n    .catch(() => {\n        render.showError();\n})\n    .finally(() => {\n        render.hideLoader();\n    })   \n}\n    \nfunction handleClick(event){\nif (!event.target.classList.contains(\"gallery-img\")){\n return;\n}\n}\n"],"names":["keyAPI","urlAPI","getImagesByQuery","query","axios","response","lightbox","SimpleLightbox","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","markup","arr","gallery","clearGallery","showLoader","loader","hideLoader","showError","iziToast","form","input","handleSubmit","handleClick","inputHandle","event","render.showLoader","render.clearGallery","render.hideLoader","processingResponse","render.showError","render.markup"],"mappings":"owBAGA,MAAMA,EAAS,qCACTC,EAAS,2BAGDC,EAAmBC,GACpBC,EAAM,IAAIH,EAAQ,CAAC,OAAO,CAC/B,IAAOD,EACP,EAAK,GAAGG,CAAK,GACb,WAAc,QACd,YAAe,aACf,WAAc,EACtB,CAAK,CAAC,EAAE,KAAKE,GAAYA,EAAS,KAAK,IAAI,ECH1C,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAExC,SAASC,EAAcC,EAAO,CACpC,OAAOA,EAAO,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACxF;AAAA,iCACgCL,CAAa;AAAA,iCACbD,CAAY,WAAWE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gCAK5BC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gCAIRC,CAAS;AAAA;AAAA;AAAA,OAGlC,EAAE,KAAK,EAAE,CAChB,CAEO,SAASC,EAAOC,EAAI,CACvBC,EAAQ,UAAYX,EAAcU,CAAG,EACrCZ,EAAS,QAAO,CACpB,CAEO,SAASc,GAAc,CAC3BD,EAAQ,UAAY,EACvB,CAEO,SAASE,GAAY,CACxBC,EAAO,UAAU,OAAO,MAAM,CAClC,CAEO,SAASC,GAAY,CAC3BD,EAAO,UAAU,IAAI,MAAM,CAC5B,CAEO,SAASE,GAAW,CACtBC,EAAS,MAAM,CACJ,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,YAAa,OACb,SAAU,WACV,KAAM,gBACtB,CAAa,CACb,CC9DA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,OAAO,EAC/BR,EAAU,SAAS,cAAc,UAAU,EAC3CG,EAAS,SAAS,cAAc,SAAS,EAEtDI,EAAK,iBAAiB,SAAUE,CAAY,EAC5CT,EAAQ,iBAAiB,QAASU,CAAW,EAGtC,IAAIC,EAAc,GAExB,SAASF,EAAaG,EAAM,CAKzB,GAJAA,EAAM,eAAc,EACpBC,IACAC,IACDH,EAAcH,EAAM,MAAM,OACtBG,IAAgB,GAAG,CAClBI,EAAmB,EACnB,MACH,CACDC,EAAoB,CACxB,CAEA,SAASA,GAAoB,CACzBjC,EAAiB4B,CAAW,EAC3B,KAAKzB,GAAY,CACXA,EAAS,SAAW,EACpB+B,IAEHC,EAAchC,CAAQ,CAE9B,CAAC,EACI,MAAM,IAAM,CACT+B,GACR,CAAC,EACI,QAAQ,IAAM,CACXF,GACR,CAAK,CACL,CAEA,SAASL,EAAYE,EAAM,CACtBA,EAAM,OAAO,UAAU,SAAS,aAAa,CAGlD"}